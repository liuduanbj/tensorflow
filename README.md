# learn-tensorflow-demo

> <https://tensorflow.google.cn/tutorials?hl=zh-cn>

## TensorFlow.js 简介

* 使用 TensorFlow.js 开发**机器学习模型**
* 直接在浏览器或 Node.js 中使用机器学习模型，无需后端服务器支持，保护用户隐私（数据不需要传输到服务器）
* 支持 JavaScript/TypeScript 开发，与现代前端框架（React、Vue等）完美集成

## 实际应用场景

1. 图像识别
   * 人脸检测（ModiFace 的在线试妆功能）
     * 使用 TensorFlow.js 在浏览器中识别用户脸部特征
     * 实时跟踪面部位置
     * 在正确的位置叠加化妆品效果
   * 物体识别（Airbnb 的图像分类应用）
     * 就像我们人类可以看出一张照片是客厅还是厨房一样，Airbnb 使用 TensorFlow 来自动识别房东上传的房间照片
     * 自动识别房间类型（卧室、厨房、浴室等）
     * 检查照片质量（是否清晰、光线是否充足）
     * 识别房间内的设施（是否有空调、电视等）
   * 手势识别
2. 自然语言处理（InSpace 的在线聊天内容过滤）
   * 文本分类
     * 在消息发送前就能识别不当内容，就像有一个助手实时帮你过滤不友好的评论
   * 情感分析
   * 语言翻译
3. 数据预测（中国移动的网络优化）
   * 销售预测
   * 用户行为分析
   * 趋势预测
     * 预测网络故障
     * 自动检测异常
     * 优化网络性能

## 基本概念解释

### 机器学习模型

> 机器学习模型就像是一个能够"学习"的程序，类似于人类通过经验学习一样。

举个生活中的例子：
想象你在教一个小朋友识别水果：

1. 学习阶段：
    * 给小朋友看很多苹果和橘子的图片
    * 告诉他："这是苹果，是红色的、圆形的"
    * 告诉他："这是橘子，是橙色的、圆形的"
2. 使用阶段：
    * 给小朋友看一个新的水果
    * 他能根据学到的特征（颜色、形状）判断是苹果还是橘子

机器学习模型就是这样工作的！

### 机器学习模型的三个阶段

1. 训练阶段
2. 评估阶段
3. 推理阶段

```js
// 创建一个简单的模型
const model = tf.sequential({
  layers: [
    tf.layers.dense({units: 1, inputShape: [1]})
  ]
});

// 1. 训练模型
await model.fit(训练数据, 标准答案, {
  epochs: 100  // 训练100次
});


// 2. 测试模型效果
const result = model.evaluate(测试数据, 测试答案);

// 3. 使用模型预测
const prediction = model.predict(新数据);
```

### 场景模型类型

1. 分类模型
   * 用途：区分不同类别的事物
   * 例子：
      * 垃圾邮件识别
      * 图片中是猫还是狗
      * 用户评论是正面还是负面
2. 回归模型
   * 用途：预测连续值
   * 例子：
      * 预测房价
      * 预测股票价格
3. 聚类模型
   * 用途：将相似的数据点分组
   * 例子：
      * 将用户分组为不同的兴趣群体
      * 将新闻文章分组为不同的主题

### logits（对数几率）

> 想象你是一个老师，在判断一个学生的作业是否及格：

不是简单地说"及格"或"不及格"
而是给出一个分数，比如 85 分
这个分数反映了你的确信程度

> 你闭着眼睛摸到一个水果
模型会给出每种水果的可能性：
是苹果的可能性：80%
是橘子的可能性：15%
是香蕉的可能性：5%

logits 就像这个分数，表示模型对每个可能结果的确信程度。

举例：假设我们在识别手写数字（0-9），模型会这样工作：

```js
// 假设我们输入了一个手写的数字"3"
const predictions = model.predict(input);

// 模型返回的结果可能是这样的：
[
  0.01,  // 是数字"0"的可能性
  0.02,  // 是数字"1"的可能性
  0.05,  // 是数字"2"的可能性
  0.80,  // 是数字"3"的可能性 (最高分！)
  0.03,  // 是数字"4"的可能性
  0.02,  // 是数字"5"的可能性
  0.02,  // 是数字"6"的可能性
  0.02,  // 是数字"7"的可能性
  0.02,  // 是数字"8"的可能性
  0.01   // 是数字"9"的可能性
]
```

### Keras（凯瑞斯 深度学习）

> Keras是基于Theano的一个深度学习框架，它的设计参考了Torch，用Python语言编写，是一个高度模块化的神经网络库，支持GPU和CPU。
> tf.keras 是用于构建和训练深度学习模型的 TensorFlow 高阶 API。利用此 API，可实现快速原型设计、先进的研究和生产

### 构建学习模型

Sequential 对于堆叠层很有用，其中每一层都有一个输入张量和一个输出张量。层是具有已知数学结构的函数，可以重复使用并具有可训练的变量。大多数 TensorFlow 模型都由层组成。

```js
// 创建一个简单的分类模型
const model = tf.sequential({
  layers: [
    tf.layers.dense({
      units: 10,  // 10个可能的类别
      activation: 'softmax',  // 将结果转换为概率
      inputShape: [784]  // 输入特征数量
    })
  ]
});

// 预测一个样本
const prediction = model.predict(input);
prediction.print();

// 输出可能像这样：
// 数组中的每个数字代表该类的可能性
// [0.1, 0.05, 0.02, 0.6, 0.03, 0.05, 0.05, 0.05, 0.03, 0.02]
```

## 代码演示

### 简单的线性回归

## 性能考虑

## 开发注意事项
